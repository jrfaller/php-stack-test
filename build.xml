<?xml version="1.0" encoding="UTF-8"?>
<project name="PhpStackTest" default="test">
  <target name="test">
    <phpunit haltonfailure="test" printsummary="true">
      <batchtest>
        <fileset dir=".">
          <include name="*test*.php"/>
        </fileset>
      </batchtest>
    </phpunit>
  </target>
  <target name="reports">
    <coverage-setup database="reports/coverage.db">
      <fileset dir=".">
        <include name="*.php"/>
        <exclude name="*test*.php"/>
      </fileset>
    </coverage-setup>
    <phpunit haltonfailure="test" printsummary="true" codecoverage="true">
      <formatter type="xml" todir="reports"/>
      <batchtest>
        <fileset dir=".">
          <include name="*test*.php"/>
        </fileset>
      </batchtest>
    </phpunit>

  </target>
  <target name="check">
    <phpcodesniffer standard="PEAR">
      <fileset dir=".">
        <include name="*.php"/>
      </fileset>
    </phpcodesniffer>
  </target>
  <target name="docs">
    <phpdoc2 title="Hello" destdir="docs" template="responsive">
      <fileset dir=".">
        <include name="*.php"/>
      </fileset>
    </phpdoc2>
  </target>
</project>
